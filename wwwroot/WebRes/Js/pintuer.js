$(function(){$(".win-homepage").click(function(){document.all?(document.body.style.behavior="url(#default#homepage)",document.body.setHomePage(document.URL)):alert("\u8bbe\u7f6e\u9996\u9875\u5931\u8d25\uff0c\u8bf7\u624b\u52a8\u8bbe\u7f6e\uff01")});$(".win-favorite").click(function(){var a=document.URL,b=document.title;try{window.external.addFavorite(a,b)}catch(c){try{window.sidebar.addPanel(b,a,"")}catch(e){alert("\u52a0\u5165\u6536\u85cf\u5931\u8d25\uff0c\u8bf7\u4f7f\u7528Ctrl+D\u8fdb\u884c\u6dfb\u52a0")}}});$(".win-forward").click(function(){window.history.forward(1)});$(".win-back").click(function(){window.history.back(-1)});$(".win-backtop").click(function(){$("body,html").animate({scrollTop:0},1E3);return!1});$(".win-refresh").click(function(){window.location.reload()});$(".win-print").click(function(){window.print()});$(".win-close").click(function(){window.close()});$(".checkall").click(function(){var a=$(this),b=a.attr("name"),c=a.attr("checkfor"),c=""!=c&&null!=c&&void 0!=c?a.closest("form").find("input[name\x3d'"+c+"']"):a.closest("form").find("input[type\x3d'checkbox']");"checkall"==b?($(c).each(function(a,b){b.checked=!0}),a.attr("name","ok")):($(c).each(function(a,b){b.checked=!1}),a.attr("name","checkall"))});$(".dropdown-toggle").click(function(){$(this).closest(".button-group, .drop").addClass("open")});$(document).bind("click",function(a){0==$(a.target).closest(".button-group.open, .drop.open").length&&$(".button-group, .drop").removeClass("open")});$checkplaceholder=function(){return"placeholder"in document.createElement("input")};$checkplaceholder()||$("textarea[placeholder], input[placeholder]").each(function(a,b){var c=!1;if(0===$(this).val().length||$(this).val()==$(this).attr("placeholder"))c=!0;c&&($(b).val($(b).attr("placeholder")),$(b).data("pintuerholder",$(b).css("color")),$(b).css("color","rgb(169,169,169)"),$(b).focus(function(){l($(this))}),$(b).blur(function(){$showplaceholder($(this))}))});$showplaceholder=function(a){0!==$(a).val().length&&$(a).val()!=$(a).attr("placeholder")||"password"==$(a).attr("type")||($(a).val($(a).attr("placeholder")),$(a).data("pintuerholder",$(a).css("color")),$(a).css("color","rgb(169,169,169)"))};var l=function(a){$(a).data("pintuerholder")&&($(a).val(""),$(a).css("color",$(a).data("pintuerholder")),$(a).removeData("pintuerholder"))};$("textarea, input, select").blur(function(){var a=$(this);if(a.attr("data-validate")){a.closest(".field").find(".input-help").remove();var b=a.attr("data-validate").split(","),c=a.val(),e=!0,f="";a.attr("placeholder")==c&&(c="");if(""!=c||0<=a.attr("data-validate").indexOf("required"))for(var d=0;d<b.length;d++){var g=b[d].split(":");$pintuercheck(a,g[0],c)||(e=!1,f=f+"\x3cli\x3e"+g[1]+"\x3c/li\x3e")}e?(a.closest(".form-group").removeClass("check-error"),a.parent().find(".input-help").remove(),a.closest(".form-group").addClass("check-success")):(a.closest(".form-group").removeClass("check-success"),a.closest(".form-group").addClass("check-error"),a.closest(".field").append('\x3cdiv class\x3d"input-help"\x3e\x3cul\x3e'+f+"\x3c/ul\x3e\x3c/div\x3e"))}});$pintuercheck=function(a,b,c){$pintu=c.replace(/(^\s*)|(\s*$)/g,"");switch(b){case "required":return/[^(^\s*)|(\s*$)]/.test($pintu);case "chinese":return/^[\u0391-\uFFE5]+$/.test($pintu);case "number":return/^\d+$/.test($pintu);case "integer":return/^[-\+]?\d+$/.test($pintu);case "plusinteger":return/^[+]?\d+$/.test($pintu);case "double":return/^[-\+]?\d+(\.\d+)?$/.test($pintu);case "plusdouble":return/^[+]?\d+(\.\d+)?$/.test($pintu);case "english":return/^[A-Za-z]+$/.test($pintu);case "username":return/^[a-z]\w{3,}$/i.test($pintu);case "mobile":return/^((\(\d{3}\))|(\d{3}\-))?13[0-9]\d{8}?$|15[89]\d{8}?$|170\d{8}?$|147\d{8}?$/.test($pintu);case "phone":return/^((\(\d{2,3}\))|(\d{3}\-))?(\(0\d{2,3}\)|0\d{2,3}-)?[1-9]\d{6,7}(\-\d{1,4})?$/.test($pintu);case "tel":return/^((\(\d{3}\))|(\d{3}\-))?13[0-9]\d{8}?$|15[89]\d{8}?$|170\d{8}?$|147\d{8}?$/.test($pintu)||/^((\(\d{2,3}\))|(\d{3}\-))?(\(0\d{2,3}\)|0\d{2,3}-)?[1-9]\d{6,7}(\-\d{1,4})?$/.test($pintu);case "email":return/^[^@]+@[^@]+\.[^@]+$/.test($pintu);case "url":return/^http:\/\/[A-Za-z0-9]+\.[A-Za-z0-9]+[\/=\?%\-&_~`@[\]\':+!]*([^<>\"\"])*$/.test($pintu);case "ip":return/^[\d\.]{7,15}$/.test($pintu);case "qq":return/^[1-9]\d{4,10}$/.test($pintu);case "currency":return/^\d+(\.\d+)?$/.test($pintu);case "zip":return/^[1-9]\d{5}$/.test($pintu);case "radio":return a=a.closest("form").find('input[name\x3d"'+a.attr("name")+'"]:checked').length,eval(1==a);default:if(b=b.split("#"),1<b.length)switch(b[0]){case "compare":return eval(Number($pintu)+b[1]);case "regexp":return RegExp(b[1],"gi").test($pintu);case "length":return a="checkbox"==a.attr("type")?a.closest("form").find('input[name\x3d"'+a.attr("name")+'"]:checked').length:$pintu.replace(/[\u4e00-\u9fa5]/g,"***").length,eval(a+b[1]);case "ajax":var e;a=b[1]+$pintu;$.ajaxSetup({async:!1});$.getJSON(a,function(a){e=a.getdata});if("true"==e)return!0;break;case "repeat":return $pintu==jQuery('input[name\x3d"'+b[1]+'"]').eq(0).val();default:return!0}else return!0}};$("form").submit(function(){$(this).find("input[data-validate],textarea[data-validate],select[data-validate]").trigger("blur");$(this).find("input[placeholder],textarea[placeholder]").each(function(){l($(this))});if($(this).find(".check-error").length)return $(this).find(".check-error").first().find("input[data-validate],textarea[data-validate],select[data-validate]").first().focus().select(),!1});$(".form-reset").click(function(){$(this).closest("form").find(".input-help").remove();$(this).closest("form").find(".form-submit").removeAttr("disabled");$(this).closest("form").find(".form-group").removeClass("check-error");$(this).closest("form").find(".form-group").removeClass("check-success")});$(".tab .tab-nav li").each(function(){var a=$(this);"hover"==a.closest(".tab").attr("data-toggle")?(a.mouseover(function(){$showtabs(a)}),a.click(function(){return!1})):a.click(function(){$showtabs(a);return!1})});$showtabs=function(a){var b=a.children("a").attr("href");a.closest(".tab .tab-nav").find("li").removeClass("active");a.closest(".tab").find(".tab-body .tab-panel").removeClass("active");a.addClass("active");$(b).addClass("active")};$(".dialogs").each(function(){var a=$(this),b=a.attr("data-toggle");"hover"==b?a.mouseover(function(){$showdialogs(a)}):"click"==b&&a.click(function(){$showdialogs(a)})});$showdialogs=function(a){a.attr("data-toggle");var b=a.attr("data-target"),c=a.attr("data-url"),e=a.attr("data-mask"),f=a.attr("data-width"),d="";a=$('\x3cdiv class\x3d"dialog-mask"\x3e\x3c/div\x3e');null==f&&(f="80%");if(0==$(".dialog-win").length){"1"==e&&$("body").append(a);d='\x3cdiv class\x3d"dialog-win" style\x3d"position:fixed;width:'+f+';z-index:11;"\x3e';null!=b&&(d+=$(b).html());null!=c&&(d+=$.ajax({url:c,async:!1}).responseText);var g=$(d+"\x3c/div\x3e");g.find(".dialog").addClass("open");$("body").append(g);b=parseInt($(window).width()-g.outerWidth())/2;c=parseInt($(window).height()-g.outerHeight())/2;c-=c/2;10>=c&&(c="10");g.css({left:b,top:c});g.find(".dialog-close,.close").each(function(){$(this).click(function(){g.remove();$(".dialog-mask").remove()})});a.click(function(){g.remove();$(this).remove()})}};$(".tips").each(function(){var a=$(this),b=a.attr("title"),c=a.attr("data-toggle");a.attr("title","");if(""==c||null==c)c="hover";"hover"==c?a.mouseover(function(){$showtips(a,b)}):"click"==c?a.click(function(){$showtips(a,b)}):"show"==c&&a.ready(function(){$showtips(a,b)})});$showtips=function(a,b){var c=a.attr("data-toggle"),e=a.attr("data-place"),f=a.attr("data-width"),d=a.attr("data-style"),g=a.attr("data-image"),l=a.attr("content"),k=a.attr("data-target"),q=a.attr("data-url"),h=0,p=0,n="",m="";null!=g&&(m=m+'\x3cimg class\x3d"image" src\x3d"'+g+'" /\x3e');null!=l&&(m=m+'\x3cp class\x3d"tip-body"\x3e'+l+"\x3c/p\x3e");null!=k&&(m+=$(k).html());null!=q&&(m+=$.ajax({url:q,async:!1}).responseText);null!=b&&""!=b&&(m=null!=m&&""!=m?'\x3cp class\x3d"tip-title"\x3e\x3cstrong\x3e'+b+"\x3c/strong\x3e\x3c/p\x3e"+m:'\x3cp class\x3d"tip-line"\x3e'+b+"\x3c/p\x3e");n=$('\x3cdiv class\x3d"tip"\x3e'+m+"\x3c/div\x3e");$("body").append(n);null!=f&&n.css("width",f);if(""==e||null==e)e="top";"left"==e?(h=a.offset().left-n.outerWidth()-5,p=a.offset().top-n.outerHeight()/2+a.outerHeight()/2):"top"==e?(h=a.offset().left-n.outerWidth()/2+a.outerWidth()/2,p=a.offset().top-n.outerHeight()-5):"right"==e?(h=a.offset().left+a.outerWidth()+5,p=a.offset().top-n.outerHeight()/2+a.outerHeight()/2):"bottom"==e&&(h=a.offset().left-n.outerWidth()/2+a.outerWidth()/2,p=a.offset().top+a.outerHeight()+5);""!=d&&n.addClass(d);n.css({left:h+"px",top:p+"px",position:"absolute"});"hover"!=c&&"click"!=c&&null!=c||a.mouseout(function(){n.remove();a.attr("title",b)})};$(".alert .close").each(function(){$(this).click(function(){$(this).closest(".alert").remove()})});$(".radio label").each(function(){var a=$(this);a.click(function(){a.closest(".radio").find("label").removeClass("active");a.addClass("active")})});$(".checkbox label").each(function(){var a=$(this);a.click(function(){a.find("input").is(":checked")?a.addClass("active"):a.removeClass("active")})});$(".collapse .panel-head").each(function(){var a=$(this);a.click(function(){a.closest(".collapse").find(".panel").removeClass("active");a.closest(".panel").addClass("active")})});$(".icon-navicon").each(function(){var a=$(this),b=a.attr("data-target");a.click(function(){$(b).toggleClass("nav-navicon")})});$(".progress").each(function(){var a=$(this),b=a.attr("data-mini"),c=a.find("input").val(),e=a.attr("data-max"),f=a.attr("data-style"),d=a.attr("data-show"),g=a.attr("title"),b=100*parseInt(c)/(parseInt(e)-parseInt(b)),c=$('\x3cdiv class\x3d"progress-bar"\x3e\x3c/div\x3e');if(null==e)return!1;null==g&&(g="");null==d&&(d=0);isNaN(b)||(c.css("width",b+"%"),1==parseInt(d)&&c.html(g+parseInt(b)+"%"));null!=f&&c.addClass(f);a.append(c)});$(".banner").each(function(){var a=$(this),b=a.attr("data-pointer"),c=a.attr("data-interval"),e=a.attr("data-style"),f=a.attr("data-item"),d=a.attr("data-small"),g=a.attr("data-middle"),l=a.attr("data-big"),k=a.find(".carousel .item").length,q=$(window).width(),h=1;null==c&&(c=5);if(null==f||1>f)f=1;null!=d&&760<q&&(f=d);null!=g&&1E3<q&&(f=g);null!=l&&1200<q&&(f=l);var d=Math.ceil(a.outerWidth()/f),p=Math.ceil(k/f);a.find(".carousel .item").css("width",d+"px");a.find(".carousel").css("width",d*k+"px");var n=function(){h++;h>p&&(h=1);$showbanner(a,h,f,k)},m=setInterval(n,600*c);a.mouseover(function(){clearInterval(m)});a.mouseout(function(){m=setInterval(n,600*c)});if(0!=b&&1<p){b='\x3cul class\x3d"pointer"\x3e\x3cli value\x3d"1" class\x3d"active"\x3e\x3c/li\x3e';for(d=1;d<p;d++)b=b+' \x3cli value\x3d"'+(d+1)+'"\x3e\x3c/li\x3e';b=$(b+"\x3c/ul\x3e");null!=e&&b.addClass(e);a.append(b);b.css("left",0.5*a.outerWidth()-0.5*b.outerWidth()+"px");b.find("li").click(function(){$showbanner(a,$(this).val(),f,k)});b=$('\x3cdiv class\x3d"pager-prev icon-angle-left"\x3e\x3c/div\x3e');d=$('\x3cdiv class\x3d"pager-next icon-angle-right"\x3e\x3c/div\x3e');null!=e&&(b.addClass(e),d.addClass(e));a.append(b);a.append(d);b.click(function(){h--;1>h&&(h=p);$showbanner(a,h,f,k)});d.click(function(){h++;h>p&&(h=1);$showbanner(a,h,f,k)})}});$showbanner=function(a,b,c,e){var f=0,f=-Math.ceil(a.outerWidth()/c)*c*(b-1);b*c>e&&(f=-Math.ceil(a.outerWidth()/c)*(e-c));a.find(".carousel").stop(!0,!0).animate({left:f+"px"},800);a.find(".pointer li").removeClass("active");a.find(".pointer li").eq(b-1).addClass("active")};$(".range").each(function(){var a=$(this),b=a.attr("data-mini"),c=a.attr("data-max");a.attr("data-step");var e=a.attr("data-style"),f=a.attr("data-bg");a.attr("data-toggle");var d="",g="",d=g="";null==e&&(e="bg-main");var l=$('\x3cspan class\x3d"range-scroll range-scroll-left '+e+'"\x3e\x3c/span\x3e'),k=$('\x3cspan class\x3d"range-scroll range-scroll-right '+e+'"\x3e\x3c/span\x3e');2==a.find("input").length?(g=a.find('input[data-value\x3d"mini"]').val(),d=a.find('input[data-value\x3d"max"]').val(),e=parseInt(100*g/(c-b)),d=parseInt(100*(d-g)/(c-b)),g=$('\x3cdiv class\x3d"range-bar" style\x3d"left:'+e+"%;width:"+d+'%;"\x3e\x3c/div\x3e'),g.append(l),g.append(k)):1==a.find("input").length?(d=a.find("input").val(),d=parseInt(100*(d-b)/(c-b)),g=$('\x3cdiv class\x3d"range-bar" style\x3d"width:'+d+'%;"\x3e\x3c/span\x3e\x3c/div\x3e'),g.append(k)):1==a.find("select").length&&(b=1,c=$("select[name\x3d"+a.find("select").attr("name")+"] option").size(),parseInt(100/c),d=parseInt(100/c),g=$('\x3cdiv class\x3d"range-bar" style\x3d"width:'+d+'%;"\x3e\x3c/div\x3e'),g.append(k));null!=f&&g.addClass(f);a.append(g);k.mousedown(function(a){$(this).css("cursor","move");$(this).offset();var b=a.clientX;$(document).bind("mousemove",function(a){k.stop();k.animate({left:a.pageX-b+"px"},10)})});$(document).mouseup(function(){k.css("cursor","default");$(this).unbind("mousemove")})});$(".spy a").each(function(){var a=$(this),b=a.closest(".spy"),c=b.attr("data-target"),e=b.attr("data-offset-spy"),f="",d="";null==e&&(e=0);f=null==c?$(window):$(c);f.bind("scroll",function(){d=null==c?$(a.attr("href")).offset().top-$(window).scrollTop()-parseInt(e):$(a.attr("href")).offset().top-f.offset().top-parseInt(e);0>d&&(b.find("li").removeClass("active"),a.parents("li").addClass("active"))})});$(".fixed").each(function(){var a=$(this),b=a.attr("data-style"),c=a.attr("data-offset-fixed"),c=null==c?a.offset().top:a.offset().top-parseInt(c);null==b&&(b="fixed-top");$(window).bind("scroll",function(){var e=c-$(window).scrollTop();"fixed-top"==b&&0>e?a.addClass("fixed-top"):a.removeClass("fixed-top");e=c-$(window).scrollTop()-$(window).height();"fixed-bottom"==b&&0<e?a.addClass("fixed-bottom"):a.removeClass("fixed-bottom")})})});$.jheartbeat={options:{url:"/?ac\x3dheartbeat",delay:1E3,div_id:"test_div"},beatfunction:function(){},timeoutobj:{id:-1},set:function(l,a){-1<this.timeoutobj.id&&clearTimeout(this.timeoutobj);l&&$.extend(this.options,l);a&&(this.beatfunction=a);$("body").append('\x3cdiv id\x3d"'+this.options.div_id+'" style\x3d"display: none;"\x3e\x3c/div\x3e');this.timeoutobj.id=setTimeout("$.jheartbeat.beat();",this.options.delay)},beat:function(){$.ajax({url:this.options.url,dataType:"html",type:"GET",error:function(l){$("#"+$.jheartbeat.options.div_id).append("Error Requesting Data")},success:function(l){$("#"+$.jheartbeat.options.div_id).html(l)}});this.timeoutobj.id=setTimeout("$.jheartbeat.beat();",this.options.delay);this.beatfunction()}};